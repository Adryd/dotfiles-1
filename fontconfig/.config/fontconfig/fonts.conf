<?xml version="1.0"?>
<!DOCTYPE fontconfig SYSTEM "fonts.dtd">
<fontconfig>
  <!-- https://gist.github.com/Nyubis/2023a01276c1cfc9786a -->

  <alias>
    <!-- prefer dejavu sans mono for monospace families -->
    <family>monospace</family>
    <prefer> <family>DejaVu Sans Mono</family> </prefer>
  </alias>

  <!-- prefer source serif pro for serif families -->
  <alias>
    <family>serif</family> <prefer> <family>Source Serif Pro</family> </prefer>
  </alias>

  <match>
    <!-- eliminate helvetica, liberation sans, and arial -->
    <test name="family"> <string>Helvetica</string> </test>
    <test name="family"> <string>Liberation Sans</string> </test>
    <test name="family"> <string>Arial</string> </test>
    <test name="family"> <string>Cantarell</string> </test>
    <edit name="family" binding="strong" mode="assign">
      <string>Source Sans Pro</string>
    </edit>
  </match>

  <match target="font">
    <!-- really good font settings
         rgba: rgb
         lcdfilter: lcddefault
         hinting: true
         hintstyle: hintslight
         autohint: false -->
    <edit name="rgba" mode="assign"> <const>rgb</const> </edit>
    <edit name="lcdfilter" mode="assign"> <const>lcddefault</const> </edit>
    <edit name="hinting" mode="assign"> <bool>true</bool> </edit>
    <edit name="hintstyle" mode="assign"> <const>hintslight</const> </edit>
    <edit name="autohint" mode="assign"> <bool>false</bool> </edit>
  </match>

  <!-- some apps like to use source sans pro thin, fix that -->
  <match target="pattern">
    <test name="family"><string>Source Sans Pro</string></test>
    <test name="weight" compare="less"><const>medium</const></test>
    <edit name="weight" mode="assign" binding="strong"><const>medium</const></edit>
  </match>
  <match target="pattern">
    <test name="family"><string>Source Code Pro</string></test>
    <test name="weight" compare="less"><const>medium</const></test>
    <edit name="weight" mode="assign" binding="strong"><const>medium</const></edit>
  </match>

  <!-- make bold pragmatapro = essential pragmatapro -->
  <match target="pattern">
    <test name="family"><string>PragmataPro</string></test>
    <test name="weight" compare="more_eq"><const>bold</const></test>
    <edit name="family" mode="assign" binding="strong">
      <string>Essential PragmataPro</string>
    </edit>
  </match>
  <match target="pattern">
    <test name="family"><string>PragmataPro Mono</string></test>
    <test name="weight" compare="more_eq"><const>bold</const></test>
    <edit name="family" mode="assign" binding="strong">
      <string>Essential PragmataPro</string>
    </edit>
  </match>
</fontconfig>
